(this["webpackJsonpbook-finder"]=this["webpackJsonpbook-finder"]||[]).push([[0],{29:function(e,t,a){},50:function(e,t,a){"use strict";a.r(t);var o=a(2),n=a.n(o),s=a(20),r=a.n(s),c=(a(29),a(4)),i=a.n(c),l=a(7),u=a(21),d=a(22),h=a(24),k=a(23),b=a(5),m=a.n(b),v={insertBook:function(e){return m.a.post("api/book",e)},getAllBooks:function(){return m.a.get("api/book")},updateBookById:function(e,t){return m.a.put("api/book/".concat(e),t)},deleteBookById:function(e){return m.a.delete("api/book/".concat(e))},getBookById:function(e){return m.a.get("api/book/".concat(e))}},j=a(10),B=a(6),p=a(1),f=function(e){for(var t=[],a=0;a<e.book.comments.length;a++)t.push(Object(p.jsxs)("div",{className:"indComment",children:[e.book.comments[a],Object(p.jsx)("p",{className:"removeCmmntBtn",onClick:e.onClick,book:e.book._id,comment:e.book.comments[a],children:"X"})]},"Comment "+a));return Object(p.jsxs)("div",{className:"indBookView",children:[Object(p.jsx)("img",{className:"thumbnail",src:e.book.thumbnail?e.book.thumbnail.thumbnail:"",alt:"thumbnail"}),Object(p.jsx)("p",{className:"titleBook",children:e.book.title}),Object(p.jsx)("p",{className:"authorBook",children:e.book.author}),Object(p.jsxs)("div",{className:"dateGenreCntr",children:[Object(p.jsx)("p",{className:"genreBook",children:e.book.category}),Object(p.jsx)("p",{className:"publishDateBook",children:e.book.publishDate})]}),Object(p.jsx)("p",{className:"descriptionBook",children:e.book.description}),Object(p.jsxs)("div",{className:"saveBookCntr",children:[Object(p.jsxs)("select",{className:"cllctnBook",defaultValue:e.book.savedGroup?e.book.savedGroup:"General",onChange:e.onChange,children:[Object(p.jsx)("option",{children:"General"}),Object(p.jsx)("option",{children:"Favorite"}),Object(p.jsx)("option",{children:"To Read"})]}),Object(p.jsx)("div",{className:"saveBtn "+(e.isSaved?"saved":" "),id:"saveBtn",onClick:e.onClick,children:e.isSaved?"Book Saved":"Save Book"})]}),Object(p.jsxs)("div",{className:"addCommentCntr",children:[Object(p.jsx)("input",{className:"addComment",placeholder:"Add Comment About Book...",onChange:e.onChange}),Object(p.jsx)("div",{className:"addBtn",book:e.book._id,onClick:e.onClick,children:"Add Comment"})]}),Object(p.jsx)("div",{className:"commentsCntr",children:t})]})},x=function(e){return Object(p.jsx)("div",{children:e.searchOn?Object(p.jsxs)("div",{className:"searchbarCntr",children:[Object(p.jsx)("input",{className:"searchbar",placeholder:"Search Book...",onChange:e.onChange}),Object(p.jsx)(B.a,{className:"searchBtn",onChange:e.onChange,onClick:e.searchBooks})]}):Object(p.jsx)(B.a,{className:"searchBtnCls",onClick:e.handleSearchbar})})},O=function(e){return Object(p.jsxs)("div",{className:"indBookCntr",id:"indBookSaved",book:e.book._id,onClick:e.onClick,children:[Object(p.jsx)("img",{className:"thumbnailBook",src:e.book.thumbnail,alt:"Thumbnail Book"}),Object(p.jsxs)("div",{className:"mainInfoCntr",children:[Object(p.jsx)("p",{className:"indBookTitle",children:e.book.title}),Object(p.jsxs)("div",{className:"authorGenreCntr",children:[Object(p.jsx)("p",{className:"indBookAuthor",children:e.book.author}),Object(p.jsx)("p",{className:"indBookGenre",children:e.book.category}),Object(p.jsx)("p",{className:"indBookCategory",children:e.book.savedGroup})]})]}),Object(p.jsx)("div",{className:"removeBtn",book:e.book._id,children:"Remove"})]})},S=function(e){for(var t=[],a=0;a<e.currentBooks.length;a++)t.push(Object(p.jsx)(O,{book:e.currentBooks[a],onClick:e.onClick},"IndSearchBook "+a));return Object(p.jsxs)("div",{className:"savedBooksCntr",children:[Object(p.jsx)("p",{className:"savedBooksHeading",children:"General"===e.currentSavedGroup?"Saved Books: General":"Favorite"===e.currentSavedGroup?"Saved Books: Favorites":"To Read"===e.currentSavedGroup?"Saved Books: To Read":"Saved Books"}),Object(p.jsx)("div",{className:"booksCntr",children:t})]})},g=function(e){return Object(p.jsxs)("div",{className:"indBookCntr",id:"indBookSearch",book:e.number,onClick:e.onClick,children:[Object(p.jsx)("img",{className:"thumbnailBook",src:e.bookInfo.thumbnail?e.bookInfo.thumbnail.thumbnail:"",alt:"thumbail"}),Object(p.jsxs)("div",{className:"mainInfoCntr",children:[Object(p.jsx)("p",{className:"indBookTitle",children:e.bookInfo.title}),Object(p.jsxs)("div",{className:"authorGenreCntr",children:[Object(p.jsx)("p",{className:"indBookAuthor",children:e.bookInfo.author?1===e.bookInfo.author.length?"".concat(e.bookInfo.author[0]):2===e.bookInfo.author.length?"".concat(e.bookInfo.author[0],",  ").concat(e.bookInfo.author[1]):3===e.bookInfo.author.length?"".concat(e.bookInfo.author[0],",  ").concat(e.bookInfo.author[1],",  ").concat(e.bookInfo.author[2]):void 0:"No Author"}),Object(p.jsx)("p",{className:"indBookGenre",children:e.bookInfo.category?e.bookInfo.category:"No genre available"})]})]})]})},C=function(e){for(var t=[],a=0;a<e.resultBooks.length;a++)t.push(Object(p.jsx)(g,{number:a,bookInfo:e.resultBooks[a],onClick:e.onClick},"IndSearchBook "+a));return Object(p.jsxs)("div",{className:"searchBooksCntr",children:[Object(p.jsxs)("p",{className:"searchRsltsHeading",children:["Results: ",e.searchResult]}),Object(p.jsx)("div",{className:"booksCntr",children:t})]})},N=function(e){Object(h.a)(a,e);var t=Object(k.a)(a);function a(e){var o;return Object(u.a)(this,a),(o=t.call(this,e)).state={previewOn:!0,sidebarOn:!1,searchOn:!1,searchView:!1,savedBooks:!1,isSaved:!1,indBookViewOn:!1,cllctnBookInput:"General"},o}return Object(d.a)(a,[{key:"render",value:function(){var e=this,t=function(t){"searchbar"===t.target.className&&e.setState({searchInput:t.target.value}),"addComment"===t.target.className&&e.setState({addCommentInput:t.target.value}),"cllctnBook"===t.target.className&&e.setState({cllctnBookInput:t.target.value})},a=function(){var t=Object(l.a)(i.a.mark((function t(){return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.setState({sidebarOn:!e.state.sidebarOn});case 2:!0===e.state.sidebarOn?e.setState({sidebarStatus:"active"}):e.setState({sidebarStatus:""});case 4:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),o=function(){var t=Object(l.a)(i.a.mark((function t(a,o){return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:"General"===a&&o.length>0&&(o=o.filter((function(e){return"General"===e.savedGroup}))),"Favorite"===a&&o.length>0&&(o=o.filter((function(e){return"Favorite"===e.savedGroup}))),"To Read"===a&&o.length>0&&(o=o.filter((function(e){return"To Read"===e.savedGroup}))),e.setState({currentBooks:o});case 4:case"end":return t.stop()}}),t)})));return function(e,a){return t.apply(this,arguments)}}(),n=function(){var t=Object(l.a)(i.a.mark((function t(){var a,o,n,s;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return o=[],t.next=3,e.setState({searchResult:e.state.searchInput});case 3:return t.next=5,m.a.get("https://www.googleapis.com/books/v1/volumes?q=".concat(e.state.searchResult)).then((function(e){return a=e.data.items})).catch((function(e){return alert("Invalid Search Input")}));case 5:for(n=0;n<a.length;n++)s={thumbnail:a[n].volumeInfo.imageLinks,title:a[n].volumeInfo.title,author:a[n].volumeInfo.authors,publishDate:a[n].volumeInfo.publishedDate,category:a[n].volumeInfo.categories,description:a[n].volumeInfo.description,comments:[],savedGroup:""},o.push(s);console.log(a),console.log(o),e.setState({currentBooks:o}),e.state.indBookViewOn&&e.setState({searchOn:!e.state.searchOn}),e.setState({previewOn:!1}),e.setState({indBookViewOn:!1}),e.setState({savedBooksView:!1}),e.setState({searchView:!0});case 14:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),s=function(){e.setState({previewOn:!1}),e.setState({indBookViewOn:!1}),e.setState({searchView:!1}),e.setState({savedBooksView:!0})},r=function(){var t=Object(l.a)(i.a.mark((function t(a){var n,r,c,l,u,d,h,k,b,m,j,B,p,f,x,O,S;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if("category"!==a.target.className){t.next=33;break}if(e.setState({sidebarStatus:""}),"searchBook"===a.target.id&&(e.setState({indBookViewOn:!1}),e.setState({savedBooksView:!1}),e.setState({previewOn:!0})),"savedBooks"!==a.target.id){t.next=11;break}return t.next=6,v.getAllBooks().then((function(e){return n=e.data.data})).catch((function(e){return alert("No Books Saved")}),n="");case 6:return t.next=8,o("",n);case 8:e.setState({currentBooks:n}),e.setState({currentSavedGroup:""}),s();case 11:if("general"!==a.target.id){t.next=18;break}return t.next=14,v.getAllBooks().then((function(e){return r=e.data.data})).catch((function(e){return alert("No Books Saved")}),r="");case 14:return t.next=16,o("General",r);case 16:e.setState({currentSavedGroup:"General"}),s();case 18:if("favorite"!==a.target.id){t.next=26;break}return t.next=21,v.getAllBooks().then((function(e){return c=e.data.data})).catch((function(e){return alert("No Books Saved")}),c="");case 21:if(e.state.emptySavedBooks){t.next=24;break}return t.next=24,o("Favorite",c);case 24:e.setState({currentSavedGroup:"Favorite"}),s();case 26:if("toRead"!==a.target.id){t.next=33;break}return t.next=29,v.getAllBooks().then((function(e){return l=e.data.data})).catch((function(e){return alert("No Books Saved")}),l="");case 29:return t.next=31,o("To Read",l);case 31:e.setState({currentSavedGroup:"To Read"}),s();case 33:if("saveBtn"!==a.target.id){t.next=44;break}return t.next=36,e.state.selectedBook;case 36:return u=t.sent,d=function(){return u.thumbnail?u.thumbnail.thumbnail:""},u.savedGroup=e.state.cllctnBookInput,u.thumbnail=d(),console.log(u),t.next=43,v.insertBook(u).then((function(e){return alert("Book Saved!")})).catch((function(e){return alert("Error Saving Book")}));case 43:e.setState({isSaved:!0});case 44:if("removeBtn"!==a.target.className){t.next=52;break}return h=a.target.getAttribute("book"),t.next=48,v.deleteBookById(h).then((function(e){return alert("Book Removed")}));case 48:return t.next=50,v.getAllBooks().then((function(e){return k=e.data.data}));case 50:return t.next=52,o(e.state.currentSavedGroup,k);case 52:if("savedBkBtn"!==a.target.className){t.next=59;break}return b=[],t.next=56,v.getAllBooks().then((function(e){return b=e.data.data})).catch((function(e){return alert("No Books Saved")}),b=[]);case 56:e.setState({currentBooks:b}),e.setState({currentSavedGroup:""}),s();case 59:if("indBookSaved"!==a.target.id){t.next=69;break}return t.next=62,v.getBookById(a.target.getAttribute("book")).then((function(e){return m=e.data.data}));case 62:m.thumbnail={thumbnail:m.thumbnail},e.setState({selectedBook:m}),e.setState({isSaved:!0}),e.setState({previewOn:!1}),e.setState({savedBooksView:!1}),e.setState({searchView:!1}),e.setState({indBookViewOn:!0});case 69:if("indBookSearch"!==a.target.id){t.next=81;break}return j=e.state.currentBooks[a.target.getAttribute("book")],B=[],t.next=74,v.getAllBooks().then((function(e){return B=e.data.data})).catch((function(e){return console.log("No previous saved books")}),B=[]);case 74:(p=B.filter((function(e){return e.author[0]===j.author[0]&&e.title===j.title&&e.publishDate===j.publishDate})))[0]?(e.setState({isSaved:!0}),e.setState({cllctnBookInput:p[0].savedGroup}),j.savedGroup=p[0].savedGroup,j._id=p[0]._id,j.comments=p[0].comments):(e.setState({isSaved:!1}),e.setState({cllctnBookInput:"General"})),e.setState({selectedBook:j}),e.setState({previewOn:!1}),e.setState({savedBooksView:!1}),e.setState({searchView:!1}),e.setState({indBookViewOn:!0});case 81:if("addBtn"!==a.target.className){t.next=97;break}if(f=e.state.selectedBook,!e.state.isSaved){t.next=91;break}return x=a.target.getAttribute("book"),f.comments.push(e.state.addCommentInput),e.setState({selectedBook:f}),t.next=89,v.updateBookById(x,f).then((function(e){return console.log("book updated")}));case 89:t.next=97;break;case 91:return f.savedGroup="General",f.comments.push(e.state.addCommentInput),f.thumbnail=f.thumbnail.thumbnail,t.next=96,v.insertBook(f).then((function(e){return alert("Book Saved!")}));case 96:e.setState({isSaved:!0});case 97:if("removeCmmntBtn"!==a.target.className){t.next=103;break}return O=e.state.selectedBook,S=a.target.getAttribute("book"),O.comments=O.comments.filter((function(e){return e!==a.target.getAttribute("comment")})),t.next=102,v.updateBookById(S,O).then((function(e){return console.log("book updated")}));case 102:e.setState({selectedBook:O});case 103:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return Object(p.jsxs)("div",{className:"container",children:[Object(p.jsxs)("div",{className:"nav-barCntr",children:[Object(p.jsx)(j.b,{className:"sidebarBtn",onClick:a}),this.state.indBookViewOn?Object(p.jsx)(x,{onClick:r,onChange:t,searchOn:this.state.searchOn,handleSearchbar:function(){e.setState({searchOn:!e.state.searchOn})},searchBooks:n}):null,this.state.searchView||this.state.savedBooksView?Object(p.jsxs)("div",{className:"searchbarCntr",children:[Object(p.jsx)("input",{className:"searchbar",placeholder:this.state.searchView?"Search Book...":this.state.savedBooksView?"Search Saved Book...":null,onChange:t}),Object(p.jsx)(B.a,{className:"searchBtn",onClick:n})]}):null,this.state.previewOn?Object(p.jsxs)("div",{className:"searchbarCntr",children:[Object(p.jsx)("input",{className:"searchbar",placeholder:"Search Book...",onChange:t}),Object(p.jsx)(B.a,{className:"searchBtn",onClick:n})]}):null]}),Object(p.jsxs)("div",{className:"sidebar "+this.state.sidebarStatus,children:[Object(p.jsx)(j.a,{className:"sidebarBtnOpen",onClick:a}),Object(p.jsxs)("div",{className:"categoriesCntr",children:[Object(p.jsx)("p",{className:"category",id:"searchBook",onClick:r,children:"Search Book"}),Object(p.jsx)("p",{className:"category",id:"savedBooks",onClick:r,children:"Saved Books"}),Object(p.jsx)("p",{className:"category",id:"general",onClick:r,children:"General"}),Object(p.jsx)("p",{className:"category",id:"favorite",onClick:r,children:"Favorites"}),Object(p.jsx)("p",{className:"category",id:"toRead",onClick:r,children:"To Read"})]})]}),this.state.previewOn?Object(p.jsxs)("p",{className:"previewMsg",children:["Search book or view ",Object(p.jsx)("span",{className:"savedBkBtn",onClick:r,children:"Saved Books"})]}):null,this.state.searchView?Object(p.jsx)(C,{searchResult:this.state.searchResult,resultBooks:this.state.currentBooks,onClick:r}):null,this.state.savedBooksView?Object(p.jsx)(S,{currentSavedGroup:this.state.currentSavedGroup,currentBooks:this.state.currentBooks,onClick:r}):null,this.state.indBookViewOn?Object(p.jsx)(f,{isSaved:this.state.isSaved,book:this.state.selectedBook,onClick:r,onChange:t}):null]})}}]),a}(o.Component),w=N,I=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,51)).then((function(t){var a=t.getCLS,o=t.getFID,n=t.getFCP,s=t.getLCP,r=t.getTTFB;a(e),o(e),n(e),s(e),r(e)}))};r.a.render(Object(p.jsx)(n.a.StrictMode,{children:Object(p.jsx)(w,{})}),document.getElementById("root")),I()}},[[50,1,2]]]);
//# sourceMappingURL=main.27787e16.chunk.js.map